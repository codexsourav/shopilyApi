(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[253],{9352:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/offers",function(){return n(8145)}])},1276:function(e,r,n){"use strict";var i=n(5893),s=n(5513),t=n.n(s),o=n(1664),c=n.n(o),d=n(7041),a=n(1163);r.Z=function(){let e=(0,a.useRouter)(),r=()=>{(0,d.deleteCookie)("user"),e.push({pathname:"/auth/login"})};return(0,i.jsxs)("div",{className:t().navbar,children:[(0,i.jsx)("div",{className:"title",children:(0,i.jsx)("h3",{children:"ADMIN PANEL"})}),(0,i.jsx)("div",{className:t().navlink,children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(c(),{href:"/admin",children:"Home"})}),(0,i.jsx)("li",{children:(0,i.jsx)(c(),{href:"/admin/product/add",children:"Add Product"})}),(0,i.jsx)("li",{children:(0,i.jsx)(c(),{href:"/admin/products",children:"Products"})}),(0,i.jsx)("li",{children:(0,i.jsx)(c(),{href:"/admin/product/private",children:"Private"})}),(0,i.jsx)("li",{children:(0,i.jsx)(c(),{href:"/admin/offers",children:"Offers"})}),(0,i.jsx)("li",{children:(0,i.jsx)(c(),{href:"/admin/orders",children:"Orders"})}),(0,i.jsx)("li",{children:(0,i.jsx)(c(),{href:"/admin/product/search",children:"Search"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{onClick:r,children:"Logout"})})]})})]})}},5684:function(e,r,n){"use strict";var i=n(7041),s=n(8567),t=n.n(s);r.Z=async(e,r,n)=>{try{let s={Accept:"*/*",Authorization:"Bearer "+(0,i.getCookie)("user"),"Content-Type":"application/json"},o=JSON.stringify(n),c=await fetch(t().APIHOST+e,{method:r,body:o,headers:s});return await c.json()}catch(e){return console.log(e),{error:"Request Error / Chack Your Network"}}}},8567:function(e){"use strict";e.exports={APIHOST:"https://shopily.onrender.com/api"}},8145:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return x}});var i=n(5893),s=n(7294),t=n(1276),o=n(1664),c=n.n(o),d=n(3854),a=n.n(d),l=n(5684),u=n(6737),h=n.n(u),f=function(e){let{poster:r,id:n}=e,[t,o]=(0,s.useState)(!1),c=()=>{h()({title:"Are you sure?",text:"Remove This Product",icon:"warning",buttons:!0,dangerMode:!0}).then(async e=>{if(e){let e=await (0,l.Z)("/offer/"+n,"DELETE");e.error?h()("Error","This Product has been Not deleted!",{icon:"error"}):(h()("Removed","This Product has been deleted!",{icon:"success"}),o(!0))}})};return(0,i.jsxs)("div",{className:a().product,style:t?{opacity:.2}:null,children:[(0,i.jsx)("div",{className:a().box,children:(0,i.jsx)("img",{src:r})}),t?"":(0,i.jsx)("div",{className:a().links,children:(0,i.jsx)("p",{className:a().delete,onClick:c,children:"Delete"})})]})},x=function(){let[e,r]=(0,s.useState)([]),[n,o]=(0,s.useState)(!0),d=async()=>{var e=await (0,l.Z)("/offer/","GET");o(!1),r(e)};return(0,s.useEffect)(()=>{d()},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.Z,{}),(0,i.jsx)(c(),{href:"/admin/offers/add",className:"add-btn",children:"New Offer"}),(0,i.jsx)("div",{className:"product-list",children:n?"Loading...":0==e.length?"No Products Found":e.map(e=>(0,i.jsx)(f,{id:e._id,poster:e.image},e._id))})]})}},5513:function(e){e.exports={navbar:"navbar_navbar__2wCXs",navlink:"navbar_navlink__ZVGUo"}},3854:function(e){e.exports={product:"productbox_product__jvHvo",box:"productbox_box__3xyp6",edit:"productbox_edit__2zems",links:"productbox_links__QA3qP",delete:"productbox_delete__NIIPo"}}},function(e){e.O(0,[953,664,774,888,179],function(){return e(e.s=9352)}),_N_E=e.O()}]);