(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[568],{470:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/product/[productId]",function(){return t(3410)}])},1276:function(e,r,t){"use strict";var s=t(5893),n=t(5513),a=t.n(n),i=t(1664),l=t.n(i),c=t(7041),u=t(1163);r.Z=function(){let e=(0,u.useRouter)(),r=()=>{(0,c.deleteCookie)("user"),e.push({pathname:"/auth/login"})};return(0,s.jsxs)("div",{className:a().navbar,children:[(0,s.jsx)("div",{className:"title",children:(0,s.jsx)("h3",{children:"ADMIN PANEL"})}),(0,s.jsx)("div",{className:a().navlink,children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/admin",children:"Home"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/admin/product/add",children:"Add Product"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/admin/products",children:"Products"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/admin/product/private",children:"Private"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/admin/offers",children:"Offers"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/admin/orders",children:"Orders"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/admin/product/search",children:"Search"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{onClick:r,children:"Logout"})})]})})]})}},5684:function(e,r,t){"use strict";var s=t(7041),n=t(8567),a=t.n(n);r.Z=async(e,r,t)=>{try{let n={Accept:"*/*",Authorization:"Bearer "+(0,s.getCookie)("user"),"Content-Type":"application/json"},i=JSON.stringify(t),l=await fetch(a().APIHOST+e,{method:r,body:i,headers:n});return await l.json()}catch(e){return console.log(e),{error:"Request Error / Chack Your Network"}}}},8567:function(e){"use strict";e.exports={APIHOST:"https://shopily.onrender.com/api"}},3410:function(e,r,t){"use strict";t.r(r);var s=t(5893),n=t(7294),a=t(6737),i=t.n(a),l=t(1163),c=t(5684),u=t(1276);r.default=function(){let e=(0,l.useRouter)(),r=e.query.productId,[t,a]=(0,n.useState)(""),[d,o]=(0,n.useState)(""),[h,p]=(0,n.useState)(""),[x,j]=(0,n.useState)(""),[v,m]=(0,n.useState)(""),[g,f]=(0,n.useState)(""),[N,b]=(0,n.useState)(!1),[y,P]=(0,n.useState)(!1),[_,C]=(0,n.useState)(!1),S=async()=>{let e=g.split(",");var s=e.filter(function(e){return""!=e});b(!0);var n=await (0,c.Z)("/manageproduct/"+r,"PUT",{title:t,desc:d,mainprice:h,price:x,poster:v,images:s,public:_});b(!1),n.error?i()("Invalid Data",n.error,"error"):n.success?i()("Product Updated","Your Product Is Updated","success"):i()("Error",n.error,"error")},k=async()=>{var e=await (0,c.Z)("/product/"+r,"GET");P(!0),a(e.title),o(e.desc),f(e.images.toString()),p(e.mainprice),m(e.poster),j(e.price),C(e.public),console.log(e)};return(0,n.useEffect)(()=>{e.isReady&&k()},[e.isReady]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{}),(0,s.jsxs)("div",{className:"conatiner",children:[(0,s.jsx)("h2",{style:{textAlign:"center",marginTop:50},children:"Update Your Product"}),y?(0,s.jsxs)("div",{className:"form",children:[(0,s.jsxs)("div",{className:"setinput",children:[(0,s.jsx)("label",{children:"Product Name"}),(0,s.jsx)("input",{type:"text",value:t,onChange:e=>a(e.target.value)})]}),(0,s.jsxs)("div",{className:"setinput",children:[(0,s.jsx)("label",{children:"Product Description"}),(0,s.jsx)("textarea",{type:"text",style:{height:120},value:d,onChange:e=>o(e.target.value)})]}),(0,s.jsxs)("div",{className:"setinput",children:[(0,s.jsx)("label",{children:"Display Price"}),(0,s.jsx)("input",{type:"number",value:h,onChange:e=>p(e.target.value)})]}),(0,s.jsxs)("div",{className:"setinput",children:[(0,s.jsx)("label",{children:"Selling Price"}),(0,s.jsx)("input",{type:"number",value:x,onChange:e=>j(e.target.value)})]}),(0,s.jsxs)("div",{className:"setinput",children:[(0,s.jsx)("label",{children:"Display Image Url"}),(0,s.jsx)("input",{type:"text",value:v,onChange:e=>m(e.target.value)})]}),(0,s.jsxs)("div",{className:"setinput",children:[(0,s.jsxs)("label",{children:["Product Images Url ",(0,s.jsx)("small",{children:"(EX: url1.jpg,url2.jpg,url3,url4.jpg)"})]}),(0,s.jsx)("input",{type:"text",value:g,onChange:e=>f(e.target.value)})]}),(0,s.jsxs)("div",{className:"setinput",children:[(0,s.jsx)("label",{children:"Public"}),(0,s.jsxs)("select",{value:_,onChange:e=>C(e.target.value),children:[(0,s.jsx)("option",{value:!0,children:"Yes"}),(0,s.jsx)("option",{value:!1,children:"No"})]})]}),(0,s.jsx)("button",{className:"makebutton",onClick:S,disabled:N,children:N?"Updating..":"Update Product"})]}):"Loading.."]})]})}},5513:function(e){e.exports={navbar:"navbar_navbar__2wCXs",navlink:"navbar_navlink__ZVGUo"}}},function(e){e.O(0,[953,664,774,888,179],function(){return e(e.s=470)}),_N_E=e.O()}]);