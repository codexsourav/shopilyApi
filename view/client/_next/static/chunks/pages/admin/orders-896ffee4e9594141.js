(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[426],{6376:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/orders",function(){return s(2548)}])},1276:function(e,r,s){"use strict";var n=s(5893),i=s(5513),t=s.n(i),a=s(1664),d=s.n(a),c=s(7041),l=s(1163);r.Z=function(){let e=(0,l.useRouter)(),r=()=>{(0,c.deleteCookie)("user"),e.push({pathname:"/auth/login"})};return(0,n.jsxs)("div",{className:t().navbar,children:[(0,n.jsx)("div",{className:"title",children:(0,n.jsx)("h3",{children:"ADMIN PANEL"})}),(0,n.jsx)("div",{className:t().navlink,children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsx)(d(),{href:"/admin",children:"Home"})}),(0,n.jsx)("li",{children:(0,n.jsx)(d(),{href:"/admin/product/add",children:"Add Product"})}),(0,n.jsx)("li",{children:(0,n.jsx)(d(),{href:"/admin/products",children:"Products"})}),(0,n.jsx)("li",{children:(0,n.jsx)(d(),{href:"/admin/product/private",children:"Private"})}),(0,n.jsx)("li",{children:(0,n.jsx)(d(),{href:"/admin/offers",children:"Offers"})}),(0,n.jsx)("li",{children:(0,n.jsx)(d(),{href:"/admin/orders",children:"Orders"})}),(0,n.jsx)("li",{children:(0,n.jsx)(d(),{href:"/admin/product/search",children:"Search"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{onClick:r,children:"Logout"})})]})})]})}},5684:function(e,r,s){"use strict";var n=s(7041),i=s(8567),t=s.n(i);r.Z=async(e,r,s)=>{try{let i={Accept:"*/*",Authorization:"Bearer "+(0,n.getCookie)("user"),"Content-Type":"application/json"},a=JSON.stringify(s),d=await fetch(t().APIHOST+e,{method:r,body:a,headers:i});return await d.json()}catch(e){return console.log(e),{error:"Request Error / Chack Your Network"}}}},8567:function(e){"use strict";e.exports={APIHOST:"https://shopily.onrender.com/api"}},2548:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return u}});var n=s(5893),i=s(7294),t=s(1276),a=s(1472),d=s.n(a),c=s(5684),l=s(6737),o=s.n(l),h=function(e){var r;let{data:s,nextStep:t,styles:a}=e,[d,l]=(0,i.useState)(!1),[h,u]=(0,i.useState)(!1),x=async()=>{l(!0);let e=await (0,c.Z)("/manageorder/status/"+s._id,"PUT",{status:t});if(l(!1),e.error)return o()("Error",e.error,"error"),!1;u(!0)};return(0,n.jsxs)("div",{className:a.orderbox,style:h?{opacity:.2}:null,children:[(0,n.jsx)("img",{src:s.product.poster,height:"180px"}),(0,n.jsxs)("div",{className:a.info,children:[(0,n.jsxs)("ul",{children:[(0,n.jsx)("h3",{children:(r=s.product.title).slice(0,15)+(r.length>15?"...":"")}),(0,n.jsxs)("li",{children:["OrderID:",s._id]}),(0,n.jsxs)("li",{children:["Quantity: ",s.quantity," "]}),(0,n.jsxs)("li",{children:["Price: ",s.buyPrice*s.quantity," "]}),(0,n.jsxs)("li",{children:["Payment Type: ",s.paymentType," "]}),(0,n.jsxs)("li",{children:["Date: ",s.date," "]})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("h4",{children:"Adress"}),(0,n.jsxs)("li",{children:["Name ",s.address.name," "]}),(0,n.jsxs)("li",{children:["Mobile:  ",s.address.mobile]}),(0,n.jsxs)("li",{children:[s.address.addr1+","+s.address.addr2,(0,n.jsx)("br",{}),s.address.city+","+s.address.state+","+s.address.pincode]})]})]}),!1==t?"":h?"":(0,n.jsx)("button",{className:a.action,onClick:x,disabled:d,children:d?"Loading...":"Make "+t})]})},u=function(){let[e,r]=(0,i.useState)(1),[s,a]=(0,i.useState)([]),[l,u]=(0,i.useState)(!0),x=["Cancel","Place Order","Packed","Shipped","Out Of Delevery","Delivered"],j=async e=>{u(!0);let r=await (0,c.Z)("/manageorder/status","POST",{status:x[e]});if(u(!1),r.error)return o()("Oops!",r.error,"error"),!1;a(r)};(0,i.useEffect)(()=>{j(e)},[]);let f=async e=>{r(e),j(e)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.Z,{}),(0,n.jsx)("div",{className:d().tabbar,children:(0,n.jsx)("ul",{children:x.map((r,i)=>(0,n.jsxs)("li",{className:e==i?d().active:null,onClick:()=>f(i),children:[r," ",e==i?l?"":s.length:""," "]},i))})}),(0,n.jsx)("div",{className:"conatiner",children:l?"Loading..":s.map(r=>(0,n.jsx)(h,{data:r,styles:d(),nextStep:x.length!=e+1&&"cancel"!=r.status&&x[e+1]},r._id))})]})}},5513:function(e){e.exports={navbar:"navbar_navbar__2wCXs",navlink:"navbar_navlink__ZVGUo"}},1472:function(e){e.exports={tabbar:"tab_tabbar__NZkOs",active:"tab_active__acfvq",orderbox:"tab_orderbox__Ihr6y",action:"tab_action__iFsOi",info:"tab_info__O8oqU"}}},function(e){e.O(0,[953,664,774,888,179],function(){return e(e.s=6376)}),_N_E=e.O()}]);