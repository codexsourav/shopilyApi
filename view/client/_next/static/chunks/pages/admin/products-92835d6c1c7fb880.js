(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{2678:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/products",function(){return r(8168)}])},1276:function(e,s,r){"use strict";var t=r(5893),n=r(5513),i=r.n(n),c=r(1664),d=r.n(c),o=r(7041),a=r(1163);s.Z=function(){let e=(0,a.useRouter)(),s=()=>{(0,o.deleteCookie)("user"),e.push({pathname:"/auth/login"})};return(0,t.jsxs)("div",{className:i().navbar,children:[(0,t.jsx)("div",{className:"title",children:(0,t.jsx)("h3",{children:"ADMIN PANEL"})}),(0,t.jsx)("div",{className:i().navlink,children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)(d(),{href:"/admin",children:"Home"})}),(0,t.jsx)("li",{children:(0,t.jsx)(d(),{href:"/admin/product/add",children:"Add Product"})}),(0,t.jsx)("li",{children:(0,t.jsx)(d(),{href:"/admin/products",children:"Products"})}),(0,t.jsx)("li",{children:(0,t.jsx)(d(),{href:"/admin/product/private",children:"Private"})}),(0,t.jsx)("li",{children:(0,t.jsx)(d(),{href:"/admin/offers",children:"Offers"})}),(0,t.jsx)("li",{children:(0,t.jsx)(d(),{href:"/admin/orders",children:"Orders"})}),(0,t.jsx)("li",{children:(0,t.jsx)(d(),{href:"/admin/product/search",children:"Search"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{onClick:s,children:"Logout"})})]})})]})}},9407:function(e,s,r){"use strict";var t=r(5893),n=r(1664),i=r.n(n),c=r(3854),d=r.n(c),o=r(5684),a=r(7294),l=r(6737),u=r.n(l);s.Z=function(e){let{poster:s,title:r,rating:n,sells:c,price:l,id:h}=e,[x,p]=(0,a.useState)(!1),j=()=>{u()({title:"Are you sure?",text:"Remove This Product",icon:"warning",buttons:!0,dangerMode:!0}).then(async e=>{if(e){let e=await (0,o.Z)("/manageproduct/"+h,"DELETE");e.error?u()("Error","This Product has been Not deleted!",{icon:"error"}):(u()("Removed","This Product has been deleted!",{icon:"success"}),p(!0))}})};return(0,t.jsxs)("div",{className:d().product,style:x?{opacity:.2}:null,children:[(0,t.jsxs)("div",{className:d().box,children:[(0,t.jsx)("img",{src:s}),(0,t.jsx)("h3",{children:r.slice(0,15)+(r.length>15?"...":"")}),(0,t.jsxs)("div",{className:"star",children:[n," Stars : Ratings"]}),(0,t.jsxs)("div",{className:"star",children:[c," Sells"]}),(0,t.jsxs)("div",{className:"star",children:[l," RS"]})]}),x?"":(0,t.jsxs)("div",{className:d().links,children:[(0,t.jsx)(i(),{href:"/admin/product/"+h,className:d().edit,children:"Edit"}),(0,t.jsx)("p",{className:d().delete,onClick:j,children:"Delete"})]})]})}},5684:function(e,s,r){"use strict";var t=r(7041),n=r(8567),i=r.n(n);s.Z=async(e,s,r)=>{try{let n={Accept:"*/*",Authorization:"Bearer "+(0,t.getCookie)("user"),"Content-Type":"application/json"},c=JSON.stringify(r),d=await fetch(i().APIHOST+e,{method:s,body:c,headers:n});return await d.json()}catch(e){return console.log(e),{error:"Request Error / Chack Your Network"}}}},8567:function(e){"use strict";e.exports={APIHOST:"https://shopily.onrender.com/api"}},8168:function(e,s,r){"use strict";r.r(s);var t=r(5893),n=r(7294),i=r(1276),c=r(5684),d=r(9407);s.default=function(){let[e,s]=(0,n.useState)([]),[r,o]=(0,n.useState)(!0),[a,l]=(0,n.useState)(0),[u,h]=(0,n.useState)(!0),[x,p]=(0,n.useState)(!1),j=async()=>{p(!0);var r=await (0,c.Z)("/products/show/"+a,"GET");o(!1),s([...e,...r]),l(a+20),p(!1),0==r.length&&(console.log(r.length),h(!1))};return(0,n.useEffect)(()=>{j()},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{}),(0,t.jsx)("div",{className:"product-list",children:r?"Loading...":0==e.length?"No Products Found":e.map(e=>(0,t.jsx)(d.Z,{id:e._id,poster:e.poster,price:e.price,rating:e.rating,title:e.title,sells:e.sell},e._id))}),(0,t.jsxs)("center",{children:[" ",r?"":u?(0,t.jsx)("button",{className:"makebutton",onClick:j,disabled:x,children:x?"Loading...":"Load More"}):""]})]})}},5513:function(e){e.exports={navbar:"navbar_navbar__2wCXs",navlink:"navbar_navlink__ZVGUo"}},3854:function(e){e.exports={product:"productbox_product__jvHvo",box:"productbox_box__3xyp6",edit:"productbox_edit__2zems",links:"productbox_links__QA3qP",delete:"productbox_delete__NIIPo"}}},function(e){e.O(0,[953,664,774,888,179],function(){return e(e.s=2678)}),_N_E=e.O()}]);