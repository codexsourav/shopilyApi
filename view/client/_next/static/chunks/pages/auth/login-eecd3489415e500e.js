(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{2505:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return i(7995)}])},8567:function(e){"use strict";e.exports={APIHOST:"https://shopily.onrender.com/api"}},7995:function(e,n,i){"use strict";i.r(n);var t=i(5893),o=i(8567),s=i.n(o),r=i(263),a=i.n(r),l=i(7294),u=i(6737),c=i.n(u),p=i(8966),d=i.n(p),g=i(7041),m=i(1163);n.default=function(){let[e,n]=(0,l.useState)("sourav0w@gmail.com"),[i,o]=(0,l.useState)("sourav"),[r,u]=(0,l.useState)(!1),p=(0,m.useRouter)(),_=async()=>{try{if(d().isEmpty(e)||!d().isEmail(e))return c()("Invalid Email","Please Enter Your Valid Email ID","info"),!1;if(d().isEmpty(i))return c()("Enter Password","Please Enter Your Password","info"),!1;let n=JSON.stringify({email:e,pass:i});u(!0);let t=await fetch(s().APIHOST+"/auth/login",{method:"POST",body:n,headers:{Accept:"*/*","Content-Type":"application/json"}}),o=await t.json();if(u(!1),o.error)c()("Wrong",o.error,"error");else{if(!o.success)return c()("Wrong",o.error,"error"),!1;if(!o.isadmin)return c()("Not Admin","You Are Not Alegible To Acceess","info"),!1;(0,g.setCookie)("user",o.token,{maxAge:25920,sameSite:!0,path:"/",httpOnly:!1}),p.push({pathname:"/admin"})}}catch(e){u(!1),c()("Oops!","Maybe You Internet Not Working!","error"),console.log(e)}};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:a().login,children:(0,t.jsxs)("div",{className:a().form,children:[(0,t.jsx)("h1",{className:a().title,children:"Login Admin Panel"}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("div",{className:a().inpgroup,children:[(0,t.jsx)("label",{children:"Email ID"}),(0,t.jsx)("input",{type:"text",autoComplete:"off",className:a().inp,value:e,onChange:e=>n(e.target.value)})]}),(0,t.jsxs)("div",{className:a().inpgroup,children:[(0,t.jsx)("label",{children:"Password"}),(0,t.jsx)("input",{type:"password",autoComplete:"off",className:a().inp,value:i,onChange:e=>o(e.target.value)})]}),(0,t.jsx)("input",{type:"submit",value:r?"Chacking...":"Login",disabled:r,className:a().btn,onClick:_})]})]})})})}},263:function(e){e.exports={login:"login_login__jjMg5",form:"login_form__1A5gd",title:"login_title__oQMx_",inpgroup:"login_inpgroup__ce921",inp:"login_inp__53qYz",btn:"login_btn__zhSA7"}}},function(e){e.O(0,[953,966,774,888,179],function(){return e(e.s=2505)}),_N_E=e.O()}]);